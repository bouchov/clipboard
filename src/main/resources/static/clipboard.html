<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Clipboard</title>
    <link rel="stylesheet" type="text/css" href="clipboard.css">
</head>
<body onload="initApp()">
<div id="loadingWindow" class="loading fade-in">
    <div class="center loading-spin"></div>
</div>
<div id="deviceInfo" style="left: 100px; position: absolute;">
    <div id="deviceInfo-name">
        <p>Гостъ: new device 1</p>
    </div>
</div>
<div id="deviceWindow" class="modal">
    <div class="menu-bar">
        <span class="menu-button" onclick="doShowLoginWindow()" title="Close">&times;</span>
    </div>
    <form class="modal-content animate" onsubmit="doSubmitDeviceWindow()">
        <h1>Новое устройство</h1>
        <div class="table-row">
            <div class="table-cell" style="width: 20%">
                <div class="table-cell-content, right_label">
                    <label for="deviceWindow-name">Название:</label>
                </div>
            </div>
            <div class="table-cell" style="width: 60%">
                <div class="table-cell-content">
                    <input type="text" id="deviceWindow-name">
                </div>
            </div>
            <div class="table-cell" style="width: 20%">
                <div class="table-cell-content">
                    <select id="deviceWindow-type" name="type" required>
                        <option value="OTHER" selected>PC</option>
                        <option value="ANDROID">Android</option>
                    </select>
                </div>
            </div>
        </div>
        <div class="table-row">
            <div class="table-cell" style="width: 20%">
                <div class="table-cell-content, right_label">
                    <label for="deviceWindow-select">Выбрать:</label>
                </div>
            </div>
            <div class="table-cell" style="width: 80%">
                <div class="table-cell-content">
                    <select id="deviceWindow-select" name="token" required>
                        <option disabled selected value="EMPTY">Выберите устройство</option>
                        <option value="0-0">Мой домашний комп</option>
                        <option value="1-1">Рабочая лошадка</option>
                        <option value="2-2">A2 lite</option>
                    </select>
                </div>
            </div>
        </div>
        <button type="submit" class="dialog-button" id="deviceWindow-submit">Сохранить</button>
    </form>
</div>
</body>
</html>
<script type="text/javascript" src="common.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<script>
    var clipboardWindow = {element:null}
    var deviceWindow = {element:null}

    function initApp() {
        clipboardWindow.element = document.getElementById('clipboardWindow');
        deviceWindow.element = document.getElementById('deviceWindow');
        findForm(deviceWindow.element).addEventListener('submit', function(event) {
            event.preventDefault()
            doSubmitDevice()
        })

        let wnd = deviceWindow;

        showModalWindow(wnd.element);
    }

    function showModalWindow(element) {
        element.style.display='block';
    }

    function hideLoadingWindow() {
        loadingWindow.hide();
    }

    function doSubmitDevice() {
        return false;
    }

    function doSubmitLoginWindow(event) {
        event.preventDefault()
        loginWindow.doSubmit();
    }

    function doSubmitDeviceWindow(event) {
        // event.preventDefault()
        deviceWindow.doSubmit();
    }
</script>